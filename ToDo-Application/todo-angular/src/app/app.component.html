<div class="container">
  <h1>CRUD Operations Tasks List</h1>

  <input
    [(ngModel)]="newTodoTitle"
    (keyup.enter)="addTodo()"
    placeholder="Add new task..."
  />
  <button (click)="addTodo()">Add</button>

  <ul>
    <li *ngFor="let todo of todos" [class.completed]="todo.completed">
      <input
        type="checkbox"
        [checked]="todo.completed"
        (change)="toggleCompletion(todo)"
      />

      <ng-container *ngIf="editingTodoId !== todo.id; else editTemplate">
        <span>{{ todo.title }}</span>
        <button (click)="startEditing(todo)">Edit</button>
        <button (click)="confirmAndDelete(todo)">Delete</button>
        <button (click)="getTodoStatus(todo)">Get Status</button>
      </ng-container>

      <ng-template #editTemplate>
        <input [(ngModel)]="editingTitle" />
        <button (click)="saveEdit(todo)">Save</button>
        <button (click)="cancelEditing()">Cancel</button>
      </ng-template>
    </li>
  </ul>
</div>
